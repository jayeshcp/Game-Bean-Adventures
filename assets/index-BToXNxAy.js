import{h as p}from"./kaplay-4RuDi7Ix.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();const e=p({global:!1});e.loadRoot("./");const d=[["@     $ $    $  $     $$     $","       ===    =====    ==   ==","     = $     =       $= $  == ","   ^ $$        ^       $     >","=========   ====== === =  ===="],["@   $        ","    $ $      ","    $    #  >","=   =  ==== ="],["@                                 $>","   =  ==    ====                ====","         ==     $   ===           ==","   ==   $      ==        =     ==   ","        ==          =  $    =      $","   ==        ==     =======        =","========    ===================     ","          $                      == ","          =             ======      "],["@     $$>","      $$$","  $$$   $","     ==  ","   $    $","  ==     ","  $     $","    ==   ","   $    $","       ==","     $   ","     ==  ","   $$$$$$","  ==     ","  $      ","    ==   ","     $   ","       ==","     $   ","     ==  ","     $   ","  ==     ","    $$$$ ","    ==   ","      $$ ","      == ","     $   ","     = $ ","   ^ $$  ","========="]];e.setGravity(2400);const u=480;async function $({levelIdx:r,score:t}){e.setBackground("#2E8BC0");const i=e.addLevel(d[r||0],{tileWidth:64,tileHeight:64,pos:e.vec2(100,200),tiles:{"@":()=>[e.sprite("bean"),e.area(),e.body(),e.anchor("bot"),"player"],"#":()=>[e.sprite("ghosty"),e.scale(.8),e.area(),e.body({isStatic:!0}),e.anchor("bot"),"danger"],"=":()=>[e.sprite("grass"),e.area(),e.body({isStatic:!0}),e.anchor("bot")],$:()=>[e.sprite("coin"),e.area(),e.anchor("bot"),"coin"],"^":()=>[e.sprite("spike"),e.area(),e.anchor("bot"),"danger"],">":()=>[e.sprite("portal"),e.area(),e.anchor("bot"),"portal"]}}),l=e.add([e.text(`Score: ${t}`,{size:36}),e.pos(50,50),e.layer("ui"),e.fixed()]);let o=e.getData("maxScore",0);const s=e.add([e.text(`Max Score: ${o}`,{size:18}),e.pos(50,100),e.layer("ui"),e.fixed()]);function n(c=1){t+=c,l.text=`Score: ${t}`,o=e.getData("maxScore",0),t>o&&(o=t,e.setData("maxScore",o),s.text=`Max Score: ${o}`)}const a=i.get("player")[0];a.pos=i.tile2Pos(0,0),a.onUpdate(()=>{e.setCamPos(a.worldPos())}),e.onKeyPress("space",()=>{a.isGrounded()&&a.jump(800)}),e.onKeyDown("left",()=>{a.move(-480,0)}),e.onKeyDown("right",()=>{a.move(u,0)}),a.onCollide("danger",()=>{e.play("hit"),e.go("lose")}),a.onCollide("coin",c=>{e.destroy(c),e.play("score"),n()}),a.onUpdate(()=>{a.pos.y>=2e3&&(e.play("hit"),e.go("lose"))}),a.onCollide("portal",()=>{e.play("bell"),r<d.length-1?e.go("game",{levelIdx:r+1,score:t}):e.go("win",{score:t})})}async function g(){gtag("event","lose",{event_category:"game",event_label:"lose"}),e.setBackground([90,40,40]),e.add([e.text("You Lose! ðŸ‘»",{size:56}),e.pos(40,120)]),e.onKeyPress(()=>{e.go("game",{levelIdx:0,score:0})})}async function y(){e.setBackground("#FADCD9"),e.add([e.text("Bean Adventures",{size:48,align:"center"}),e.pos(200,200),e.color(120,120,40),e.layer("ui"),e.scale(1)]),e.add([e.text("Press any key or click to start",{size:36,align:"center"}),e.pos(200,300),e.color(80,80,80),e.layer("ui"),e.scale(1)]);async function r(){await e.wait(.8),e.play("background",{volume:.1,loop:!0}),e.go("game",{levelIdx:0,score:0})}e.onClick(async()=>{e.addKaboom(e.mousePos()),r()}),e.onKeyPress(async()=>{e.addKaboom(e.vec2(200,200)),r()})}async function m({score:r}){gtag("event","win",{event_category:"game",event_label:"win",value:r}),e.setBackground([40,60,40]),e.add([e.text(`You grabbed ${r} coins!!!`,{size:56,width:e.width()}),e.pos(50,120),e.layer("ui")]);let t=e.getData("maxScore",0);e.add([e.text(`Max Score: ${t}`,{size:18}),e.pos(50,200),e.layer("ui")]),e.onKeyPress(()=>{e.go("game",{levelIdx:0,score:0})})}e.loadSprite("bean","sprites/bean.png");e.loadSprite("coin","/sprites/coin.png");e.loadSprite("spike","/sprites/spike.png");e.loadSprite("grass","/sprites/grass.png");e.loadSprite("ghosty","/sprites/ghosty.png");e.loadSprite("portal","/sprites/portal.png");e.loadMusic("background","/sounds/background.mp3");e.loadSound("score","/sounds/score.mp3");e.loadSound("portal","/sounds/portal.mp3");e.loadSound("hit","/sounds/hit.mp3");e.loadSound("bell","/sounds/bell.mp3");e.scene("splash",y);e.scene("game",$);e.scene("win",m);e.scene("lose",g);e.setLayers(["obj","ui"],"obj");e.go("splash");
//# sourceMappingURL=index-BToXNxAy.js.map
